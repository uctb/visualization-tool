/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
import * as tf from '../index';
import { ALL_ENVS, describeWithFlags } from '../jasmine_util';
import { expectArraysClose, expectArraysEqual } from '../test_util';
describeWithFlags('raggedTensorToTensor ', ALL_ENVS, () => {
    it('RaggedTensorToTensor', async () => {
        const shape = [4, 4];
        const values = [.1, .2, .3, .4, .5, .6, .7, .8, .9];
        const defaultValue = 1.5;
        const rowPartitionTensors = [
            tf.scalar(4, 'int32'), tf.tensor1d([0, 0, 0, 2, 2, 2, 2, 3, 3], 'int32')
        ];
        const rowPartitionTypes = ['FIRST_DIM_SIZE', 'VALUE_ROWIDS'];
        const result = tf.raggedTensorToTensor(shape, values, defaultValue, rowPartitionTensors, rowPartitionTypes);
        expectArraysEqual(result.shape, shape);
        expectArraysClose(await result.data(), [
            .1, .2, .3, 1.5, 1.5, 1.5, 1.5, 1.5, .4, .5, .6, .7, .8, .9, 1.5, 1.5
        ]);
    });
    it('RaggedTensorToTensorRowSplits', async () => {
        const shape = [4, 4];
        const values = [.1, .2, .3, .4, .5, .6, .7, .8, .9];
        const defaultValue = 1.5;
        const rowPartitionTensors = [tf.tensor1d([0, 3, 3, 7, 9], 'int32')];
        const rowPartitionTypes = ['ROW_SPLITS'];
        const result = tf.raggedTensorToTensor(shape, values, defaultValue, rowPartitionTensors, rowPartitionTypes);
        expectArraysEqual(result.shape, shape);
        expectArraysClose(await result.data(), [
            .1, .2, .3, 1.5, 1.5, 1.5, 1.5, 1.5, .4, .5, .6, .7, .8, .9, 1.5, 1.5
        ]);
    });
    it('RaggedTensorToTensor3DParams', async () => {
        const shape = [5, 2, 3];
        const values = [.1, .2, .3, .4, .5, .6, .7, .8, .9];
        const defaultValue = 1.5;
        const rowPartitionTensors = [
            tf.scalar(5, 'int32'), tf.tensor1d([0, 1, 1, 3, 3, 4], 'int32'),
            tf.tensor1d([1, 1, 2, 3, 3, 4, 4, 4, 5], 'int32')
        ];
        const rowPartitionTypes = ['FIRST_DIM_SIZE', 'VALUE_ROWIDS', 'VALUE_ROWIDS'];
        const result = tf.raggedTensorToTensor(shape, values, defaultValue, rowPartitionTensors, rowPartitionTypes);
        expectArraysEqual(result.shape, shape);
        expectArraysClose(await result.data(), [
            1.5, 1.5, 1.5, 1.5, 1.5, 1.5, .1, .2, 1.5, .3, 1.5, 1.5, 1.5, 1.5, 1.5,
            1.5, 1.5, 1.5, .4, .5, 1.5, .6, .7, .8, .9, 1.5, 1.5, 1.5, 1.5, 1.5
        ]);
    });
    it('RaggedTensorToTensor3DParamsRowSplits', async () => {
        const shape = [5, 2, 3];
        const values = [.1, .2, .3, .4, .5, .6, .7, .8, .9];
        const defaultValue = 1.5;
        const rowPartitionTensors = [
            tf.tensor1d([0, 1, 3, 3, 5, 6], 'int32'),
            tf.tensor1d([0, 0, 2, 3, 5, 8, 9], 'int32')
        ];
        const rowPartitionTypes = ['ROW_SPLITS', 'ROW_SPLITS'];
        const result = tf.raggedTensorToTensor(shape, values, defaultValue, rowPartitionTensors, rowPartitionTypes);
        expectArraysEqual(result.shape, shape);
        expectArraysClose(await result.data(), [
            1.5, 1.5, 1.5, 1.5, 1.5, 1.5, .1, .2, 1.5, .3, 1.5, 1.5, 1.5, 1.5, 1.5,
            1.5, 1.5, 1.5, .4, .5, 1.5, .6, .7, .8, .9, 1.5, 1.5, 1.5, 1.5, 1.5
        ]);
    });
    it('RaggedTensorToTensor3DParamsRowSplits2', async () => {
        const shape = [3, 2, 3];
        const values = [0, 1, 2, 3];
        const defaultValue = 5;
        const rowPartitionTensors = [
            tf.tensor1d([0, 2, 2, 3], 'int32'), tf.tensor1d([0, 3, 3, 4], 'int32')
        ];
        const rowPartitionTypes = ['ROW_SPLITS', 'ROW_SPLITS'];
        const result = tf.raggedTensorToTensor(shape, values, defaultValue, rowPartitionTensors, rowPartitionTypes);
        expectArraysEqual(result.shape, shape);
        expectArraysClose(await result.data(), [0, 1, 2, 5, 5, 5, 5, 5, 5, 5, 5, 5, 3, 5, 5, 5, 5, 5]);
    });
    it('RaggedTensorToTensor4DParams', async () => {
        const shape = [4, 2, 3, 2];
        const values = [1, 2, 3, 4, 5, 6, 7, 8];
        const defaultValue = 15;
        const rowPartitionTensors = [
            tf.scalar(5, 'int32'), tf.tensor1d([0, 1, 1], 'int32'),
            tf.tensor1d([1, 1, 1, 2], 'int32'),
            tf.tensor1d([0, 0, 1, 1, 2, 2, 3, 3], 'int32')
        ];
        const rowPartitionTypes = ['FIRST_DIM_SIZE', 'VALUE_ROWIDS', 'VALUE_ROWIDS', 'VALUE_ROWIDS'];
        const result = tf.raggedTensorToTensor(shape, values, defaultValue, rowPartitionTensors, rowPartitionTypes);
        expectArraysEqual(result.shape, shape);
        expectArraysClose(await result.data(), [
            15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 1, 2, 3, 4,
            5, 6, 7, 8, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
            15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15
        ]);
    });
    it('RaggedTensorToTensor4DParamsRowSplit', async () => {
        const shape = [4, 2, 3, 2];
        const values = [1, 2, 3, 4, 5, 6, 7, 8];
        const defaultValue = 15;
        const rowPartitionTensors = [
            tf.tensor1d([0, 1, 3], 'int32'), tf.tensor1d([0, 0, 3, 4], 'int32'),
            tf.tensor1d([0, 2, 4, 6, 8], 'int32')
        ];
        const rowPartitionTypes = ['ROW_SPLITS', 'ROW_SPLITS', 'ROW_SPLITS'];
        const result = tf.raggedTensorToTensor(shape, values, defaultValue, rowPartitionTensors, rowPartitionTypes);
        expectArraysEqual(result.shape, shape);
        expectArraysClose(await result.data(), [
            15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 1, 2, 3, 4,
            5, 6, 7, 8, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
            15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15
        ]);
    });
    it('RaggedTensorToTensorContractExpanded', async () => {
        const shape = [3, 5];
        const values = [.1, .2, .3, .4, .5, .6, .7, .8, .9];
        const defaultValue = 1.5;
        const rowPartitionTensors = [
            tf.scalar(4, 'int32'),
            tf.tensor1d([0, 0, 0, 2, 2, 2, 2, 3, 3], 'int32'),
        ];
        const rowPartitionTypes = ['FIRST_DIM_SIZE', 'VALUE_ROWIDS'];
        const result = tf.raggedTensorToTensor(shape, values, defaultValue, rowPartitionTensors, rowPartitionTypes);
        expectArraysEqual(result.shape, shape);
        expectArraysClose(await result.data(), [
            .1, .2, .3, 1.5, 1.5,
            1.5, 1.5, 1.5, 1.5, 1.5,
            .4, .5, .6, .7, 1.5
        ]);
    });
    it('RaggedTensorToTensorContractExpandedDense', async () => {
        const shape = [3, 5, 2];
        const values = tf.tensor2d([
            .1, 1.1, .2, 1.2, .3, 1.3, .4, 1.4, .5, 1.5, .6, 1.6, .7, 1.7, .8,
            1.8, .9, 1.9
        ], [9, 2]);
        const defaultValue = 1.5;
        const rowPartitionTensors = [
            tf.scalar(4, 'int32'),
            tf.tensor1d([0, 0, 0, 2, 2, 2, 2, 3, 3], 'int32'),
        ];
        const rowPartitionTypes = ['FIRST_DIM_SIZE', 'VALUE_ROWIDS'];
        const result = tf.raggedTensorToTensor(shape, values, defaultValue, rowPartitionTensors, rowPartitionTypes);
        expectArraysEqual(result.shape, shape);
        expectArraysClose(await result.data(), [
            .1, 1.1, .2, 1.2, .3, 1.3, 1.5, 1.5, 1.5, 1.5,
            1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5,
            .4, 1.4, .5, 1.5, .6, 1.6, .7, 1.7, 1.5, 1.5
        ]);
    });
    it('RaggedTensorToTensorConstrained', async () => {
        const shape = [3, 3];
        const values = [.1, .2, .3, .4, .5, .6, .7, .8, .9];
        const defaultValue = 1.5;
        const rowPartitionTensors = [
            tf.scalar(4, 'int32'),
            tf.tensor1d([0, 0, 0, 2, 2, 2, 2, 3, 3], 'int32'),
        ];
        const rowPartitionTypes = ['FIRST_DIM_SIZE', 'VALUE_ROWIDS'];
        const result = tf.raggedTensorToTensor(shape, values, defaultValue, rowPartitionTensors, rowPartitionTypes);
        expectArraysEqual(result.shape, shape);
        expectArraysClose(await result.data(), [
            .1, .2, .3,
            1.5, 1.5, 1.5,
            .4, .5, .6
        ]);
    });
    it('RaggedTensorToTensor3DParamsConstrained', async () => {
        const shape = [4, 1, 2];
        const values = [.1, .2, .3, .4, .5, .6, .7, .8, .9];
        const defaultValue = 1.5;
        const rowPartitionTensors = [
            tf.scalar(5, 'int32'),
            tf.tensor1d([0, 1, 1, 3, 3, 4], 'int32'),
            tf.tensor1d([1, 1, 2, 3, 3, 4, 4, 4, 5], 'int32'),
        ];
        const rowPartitionTypes = ['FIRST_DIM_SIZE', 'VALUE_ROWIDS', 'VALUE_ROWIDS'];
        const result = tf.raggedTensorToTensor(shape, values, defaultValue, rowPartitionTensors, rowPartitionTypes);
        expectArraysEqual(result.shape, shape);
        expectArraysClose(await result.data(), [1.5, 1.5, .1, .2, 1.5, 1.5, .4, .5]);
    });
    it('RaggedTensorToTensor4DParamsConstrained', async () => {
        const shape = [2, 2, 2, 2];
        const values = [1, 2, 3, 4, 5, 6, 7, 8];
        const defaultValue = 15;
        const rowPartitionTensors = [
            tf.scalar(5, 'int32'),
            tf.tensor1d([0, 1, 1], 'int32'),
            tf.tensor1d([1, 1, 1, 2], 'int32'),
            tf.tensor1d([0, 0, 1, 1, 2, 2, 3, 3], 'int32'),
        ];
        const rowPartitionTypes = ['FIRST_DIM_SIZE', 'VALUE_ROWIDS', 'VALUE_ROWIDS', 'VALUE_ROWIDS'];
        const result = tf.raggedTensorToTensor(shape, values, defaultValue, rowPartitionTensors, rowPartitionTypes);
        expectArraysEqual(result.shape, shape);
        expectArraysClose(await result.data(), [
            15, 15, 15, 15,
            15, 15, 15, 15,
            1, 2, 3, 4,
            7, 8, 15, 15,
        ]);
    });
    it('shape wrong dimensions', async () => {
        const shape = [10, 7, 10, 20];
        const values = [1, 2, 3, 4];
        const defaultValue = 15;
        const rowPartitionTensors = [
            tf.scalar(5, 'int32'),
            tf.tensor1d([0, 1, 1], 'int32'),
            tf.tensor1d([1, 1, 1, 2], 'int32'),
        ];
        const rowPartitionTypes = ['FIRST_DIM_SIZE', 'VALUE_ROWIDS', 'VALUE_ROWIDS'];
        expect(() => tf.raggedTensorToTensor(shape, values, defaultValue, rowPartitionTensors, rowPartitionTypes))
            .toThrowError(/are incompatible/);
    });
    it('does not have memory leak.', async () => {
        const beforeDataIds = tf.engine().backend.numDataIds();
        const rowPartitionTensors = [
            tf.scalar(4, 'int32'), tf.tensor1d([0, 0, 0, 2, 2, 2, 2, 3, 3], 'int32')
        ];
        const result = tf.raggedTensorToTensor([4, 4], [.1, .2, .3, .4, .5, .6, .7, .8, .9], 1.5, rowPartitionTensors, ['FIRST_DIM_SIZE', 'VALUE_ROWIDS']);
        await result.data();
        const afterResDataIds = tf.engine().backend.numDataIds();
        expect(afterResDataIds).toEqual(beforeDataIds + 3);
        result.dispose();
        rowPartitionTensors.map(tensor => tensor.dispose());
        const afterDisposeDataIds = tf.engine().backend.numDataIds();
        expect(afterDisposeDataIds).toEqual(beforeDataIds);
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmFnZ2VkX3RlbnNvcl90b190ZW5zb3JfdGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3RmanMtY29yZS9zcmMvb3BzL3JhZ2dlZF90ZW5zb3JfdG9fdGVuc29yX3Rlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7OztHQWVHO0FBRUgsT0FBTyxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDL0IsT0FBTyxFQUFDLFFBQVEsRUFBRSxpQkFBaUIsRUFBQyxNQUFNLGlCQUFpQixDQUFDO0FBQzVELE9BQU8sRUFBQyxpQkFBaUIsRUFBRSxpQkFBaUIsRUFBQyxNQUFNLGNBQWMsQ0FBQztBQUVsRSxpQkFBaUIsQ0FBQyx1QkFBdUIsRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFO0lBQ3hELEVBQUUsQ0FBQyxzQkFBc0IsRUFBRSxLQUFLLElBQUksRUFBRTtRQUNwQyxNQUFNLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNyQixNQUFNLE1BQU0sR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDcEQsTUFBTSxZQUFZLEdBQUcsR0FBRyxDQUFDO1FBQ3pCLE1BQU0sbUJBQW1CLEdBQUc7WUFDMUIsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDO1NBQ3pFLENBQUM7UUFDRixNQUFNLGlCQUFpQixHQUFHLENBQUMsZ0JBQWdCLEVBQUUsY0FBYyxD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QUFFLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ3pELE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQyxPQUFPLENBQUMsYUFBYSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRW5ELE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNqQixtQkFBbUIsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUVwRCxNQUFNLG1CQUFtQixHQUFHLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDN0QsTUFBTSxDQUFDLG1CQUFtQixDQUFDLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ3JELENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCAqIGFzIHRmIGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7QUxMX0VOVlMsIGRlc2NyaWJlV2l0aEZsYWdzfSBmcm9tICcuLi9qYXNtaW5lX3V0aWwnO1xuaW1wb3J0IHtleHBlY3RBcnJheXNDbG9zZSwgZXhwZWN0QXJyYXlzRXF1YWx9IGZyb20gJy4uL3Rlc3RfdXRpbCc7XG5cbmRlc2NyaWJlV2l0aEZsYWdzKCdyYWdnZWRUZW5zb3JUb1RlbnNvciAnLCBBTExfRU5WUywgKCkgPT4ge1xuICBpdCgnUmFnZ2VkVGVuc29yVG9UZW5zb3InLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgc2hhcGUgPSBbNCwgNF07XG4gICAgY29uc3QgdmFsdWVzID0gWy4xLCAuMiwgLjMsIC40LCAuNSwgLjYsIC43LCAuOCwgLjldO1xuICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IDEuNTtcbiAgICBjb25zdCByb3dQYXJ0aXRpb25UZW5zb3JzID0gW1xuICAgICAgdGYuc2NhbGFyKDQsICdpbnQzMicpLCB0Zi50ZW5zb3IxZChbMCwgMCwgMCwgMiwgMiwgMiwgMiwgMywgM10sICdpbnQzMicpXG4gICAgXTtcbiAgICBjb25zdCByb3dQYXJ0aXRpb25UeXBlcyA9IFsnRklSU1RfRElNX1NJWkUnLCAnVkFMVUVfUk9XSURTJ107XG4gICAgY29uc3QgcmVzdWx0ID0gdGYucmFnZ2VkVGVuc29yVG9UZW5zb3IoXG4gICAgICAgIHNoYXBlLCB2YWx1ZXMsIGRlZmF1bHRWYWx1ZSwgcm93UGFydGl0aW9uVGVuc29ycywgcm93UGFydGl0aW9uVHlwZXMpO1xuXG4gICAgZXhwZWN0QXJyYXlzRXF1YWwocmVzdWx0LnNoYXBlLCBzaGFwZSk7XG4gICAgZXhwZWN0QXJyYXlzQ2xvc2UoYXdhaXQgcmVzdWx0LmRhdGEoKSwgW1xuICAgICAgLjEsIC4yLCAuMywgMS41LCAxLjUsIDEuNSwgMS41LCAxLjUsIC40LCAuNSwgLjYsIC43LCAuOCwgLjksIDEuNSwgMS41XG4gICAgXSk7XG4gIH0pO1xuXG4gIGl0KCdSYWdnZWRUZW5zb3JUb1RlbnNvclJvd1NwbGl0cycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBzaGFwZSA9IFs0LCA0XTtcbiAgICBjb25zdCB2YWx1ZXMgPSBbLjEsIC4yLCAuMywgLjQsIC41LCAuNiwgLjcsIC44LCAuOV07XG4gICAgY29uc3QgZGVmYXVsdFZhbHVlID0gMS41O1xuICAgIGNvbnN0IHJvd1BhcnRpdGlvblRlbnNvcnMgPSBbdGYudGVuc29yMWQoWzAsIDMsIDMsIDcsIDldLCAnaW50MzInKV07XG4gICAgY29uc3Qgcm93UGFydGl0aW9uVHlwZXMgPSBbJ1JPV19TUExJVFMnXTtcbiAgICBjb25zdCByZXN1bHQgPSB0Zi5yYWdnZWRUZW5zb3JUb1RlbnNvcihcbiAgICAgICAgc2hhcGUsIHZhbHVlcywgZGVmYXVsdFZhbHVlLCByb3dQYXJ0aXRpb25UZW5zb3JzLCByb3dQYXJ0aXRpb25UeXBlcyk7XG5cbiAgICBleHBlY3RBcnJheXNFcXVhbChyZXN1bHQuc2hhcGUsIHNoYXBlKTtcbiAgICBleHBlY3RBcnJheXNDbG9zZShhd2FpdCByZXN1bHQuZGF0YSgpLCBbXG4gICAgICAuMSwgLjIsIC4zLCAxLjUsIDEuNSwgMS41LCAxLjUsIDEuNSwgLjQsIC41LCAuNiwgLjcsIC44LCAuOSwgMS41LCAxLjVcbiAgICBdKTtcbiAgfSk7XG5cbiAgaXQoJ1JhZ2dlZFRlbnNvclRvVGVuc29yM0RQYXJhbXMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgc2hhcGUgPSBbNSwgMiwgM107XG4gICAgY29uc3QgdmFsdWVzID0gWy4xLCAuMiwgLjMsIC40LCAuNSwgLjYsIC43LCAuOCwgLjldO1xuICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IDEuNTtcbiAgICBjb25zdCByb3dQYXJ0aXRpb25UZW5zb3JzID0gW1xuICAgICAgdGYuc2NhbGFyKDUsICdpbnQzMicpLCB0Zi50ZW5zb3IxZChbMCwgMSwgMSwgMywgMywgNF0sICdpbnQzMicpLFxuICAgICAgdGYudGVuc29yMWQoWzEsIDEsIDIsIDMsIDMsIDQsIDQsIDQsIDVdLCAnaW50MzInKVxuICAgIF07XG4gICAgY29uc3Qgcm93UGFydGl0aW9uVHlwZXMgPVxuICAgICAgICBbJ0ZJUlNUX0RJTV9TSVpFJywgJ1ZBTFVFX1JPV0lEUycsICdWQUxVRV9ST1dJRFMnXTtcbiAgICBjb25zdCByZXN1bHQgPSB0Zi5yYWdnZWRUZW5zb3JUb1RlbnNvcihcbiAgICAgICAgc2hhcGUsIHZhbHVlcywgZGVmYXVsdFZhbHVlLCByb3dQYXJ0aXRpb25UZW5zb3JzLCByb3dQYXJ0aXRpb25UeXBlcyk7XG5cbiAgICBleHBlY3RBcnJheXNFcXVhbChyZXN1bHQuc2hhcGUsIHNoYXBlKTtcbiAgICBleHBlY3RBcnJheXNDbG9zZShhd2FpdCByZXN1bHQuZGF0YSgpLCBbXG4gICAgICAxLjUsIDEuNSwgMS41LCAxLjUsIDEuNSwgMS41LCAuMSwgLjIsIDEuNSwgLjMsIDEuNSwgMS41LCAxLjUsIDEuNSwgMS41LFxuICAgICAgMS41LCAxLjUsIDEuNSwgLjQsICAuNSwgIDEuNSwgLjYsIC43LCAuOCwgIC45LCAxLjUsIDEuNSwgMS41LCAxLjUsIDEuNVxuICAgIF0pO1xuICB9KTtcblxuICBpdCgnUmFnZ2VkVGVuc29yVG9UZW5zb3IzRFBhcmFtc1Jvd1NwbGl0cycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBzaGFwZSA9IFs1LCAyLCAzXTtcbiAgICBjb25zdCB2YWx1ZXMgPSBbLjEsIC4yLCAuMywgLjQsIC41LCAuNiwgLjcsIC44LCAuOV07XG4gICAgY29uc3QgZGVmYXVsdFZhbHVlID0gMS41O1xuICAgIGNvbnN0IHJvd1BhcnRpdGlvblRlbnNvcnMgPSBbXG4gICAgICB0Zi50ZW5zb3IxZChbMCwgMSwgMywgMywgNSwgNl0sICdpbnQzMicpLFxuICAgICAgdGYudGVuc29yMWQoWzAsIDAsIDIsIDMsIDUsIDgsIDldLCAnaW50MzInKVxuICAgIF07XG4gICAgY29uc3Qgcm93UGFydGl0aW9uVHlwZXMgPSBbJ1JPV19TUExJVFMnLCAnUk9XX1NQTElUUyddO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRmLnJhZ2dlZFRlbnNvclRvVGVuc29yKFxuICAgICAgICBzaGFwZSwgdmFsdWVzLCBkZWZhdWx0VmFsdWUsIHJvd1BhcnRpdGlvblRlbnNvcnMsIHJvd1BhcnRpdGlvblR5cGVzKTtcblxuICAgIGV4cGVjdEFycmF5c0VxdWFsKHJlc3VsdC5zaGFwZSwgc2hhcGUpO1xuICAgIGV4cGVjdEFycmF5c0Nsb3NlKGF3YWl0IHJlc3VsdC5kYXRhKCksIFtcbiAgICAgIDEuNSwgMS41LCAxLjUsIDEuNSwgMS41LCAxLjUsIC4xLCAuMiwgMS41LCAuMywgMS41LCAxLjUsIDEuNSwgMS41LCAxLjUsXG4gICAgICAxLjUsIDEuNSwgMS41LCAuNCwgIC41LCAgMS41LCAuNiwgLjcsIC44LCAgLjksIDEuNSwgMS41LCAxLjUsIDEuNSwgMS41XG4gICAgXSk7XG4gIH0pO1xuXG4gIGl0KCdSYWdnZWRUZW5zb3JUb1RlbnNvcjNEUGFyYW1zUm93U3BsaXRzMicsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBzaGFwZSA9IFszLCAyLCAzXTtcbiAgICBjb25zdCB2YWx1ZXMgPSBbMCwgMSwgMiwgM107XG4gICAgY29uc3QgZGVmYXVsdFZhbHVlID0gNTtcbiAgICBjb25zdCByb3dQYXJ0aXRpb25UZW5zb3JzID0gW1xuICAgICAgdGYudGVuc29yMWQoWzAsIDIsIDIsIDNdLCAnaW50MzInKSwgdGYudGVuc29yMWQoWzAsIDMsIDMsIDRdLCAnaW50MzInKVxuICAgIF07XG4gICAgY29uc3Qgcm93UGFydGl0aW9uVHlwZXMgPSBbJ1JPV19TUExJVFMnLCAnUk9XX1NQTElUUyddO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRmLnJhZ2dlZFRlbnNvclRvVGVuc29yKFxuICAgICAgICBzaGFwZSwgdmFsdWVzLCBkZWZhdWx0VmFsdWUsIHJvd1BhcnRpdGlvblRlbnNvcnMsIHJvd1BhcnRpdGlvblR5cGVzKTtcblxuICAgIGV4cGVjdEFycmF5c0VxdWFsKHJlc3VsdC5zaGFwZSwgc2hhcGUpO1xuICAgIGV4cGVjdEFycmF5c0Nsb3NlKFxuICAgICAgICBhd2FpdCByZXN1bHQuZGF0YSgpLFxuICAgICAgICBbMCwgMSwgMiwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgMywgNSwgNSwgNSwgNSwgNV0pO1xuICB9KTtcblxuICBpdCgnUmFnZ2VkVGVuc29yVG9UZW5zb3I0RFBhcmFtcycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBzaGFwZSA9IFs0LCAyLCAzLCAyXTtcbiAgICBjb25zdCB2YWx1ZXMgPSBbMSwgMiwgMywgNCwgNSwgNiwgNywgOF07XG4gICAgY29uc3QgZGVmYXVsdFZhbHVlID0gMTU7XG4gICAgY29uc3Qgcm93UGFydGl0aW9uVGVuc29ycyA9IFtcbiAgICAgIHRmLnNjYWxhcig1LCAnaW50MzInKSwgdGYudGVuc29yMWQoWzAsIDEsIDFdLCAnaW50MzInKSxcbiAgICAgIHRmLnRlbnNvcjFkKFsxLCAxLCAxLCAyXSwgJ2ludDMyJyksXG4gICAgICB0Zi50ZW5zb3IxZChbMCwgMCwgMSwgMSwgMiwgMiwgMywgM10sICdpbnQzMicpXG4gICAgXTtcbiAgICBjb25zdCByb3dQYXJ0aXRpb25UeXBlcyA9XG4gICAgICAgIFsnRklSU1RfRElNX1NJWkUnLCAnVkFMVUVfUk9XSURTJywgJ1ZBTFVFX1JPV0lEUycsICdWQUxVRV9ST1dJRFMnXTtcbiAgICBjb25zdCByZXN1bHQgPSB0Zi5yYWdnZWRUZW5zb3JUb1RlbnNvcihcbiAgICAgICAgc2hhcGUsIHZhbHVlcywgZGVmYXVsdFZhbHVlLCByb3dQYXJ0aXRpb25UZW5zb3JzLCByb3dQYXJ0aXRpb25UeXBlcyk7XG5cbiAgICBleHBlY3RBcnJheXNFcXVhbChyZXN1bHQuc2hhcGUsIHNoYXBlKTtcbiAgICBleHBlY3RBcnJheXNDbG9zZShhd2FpdCByZXN1bHQuZGF0YSgpLCBbXG4gICAgICAxNSwgMTUsIDE1LCAxNSwgMTUsIDE1LCAxNSwgMTUsIDE1LCAxNSwgMTUsIDE1LCAxLCAgMiwgIDMsICA0LFxuICAgICAgNSwgIDYsICA3LCAgOCwgIDE1LCAxNSwgMTUsIDE1LCAxNSwgMTUsIDE1LCAxNSwgMTUsIDE1LCAxNSwgMTUsXG4gICAgICAxNSwgMTUsIDE1LCAxNSwgMTUsIDE1LCAxNSwgMTUsIDE1LCAxNSwgMTUsIDE1LCAxNSwgMTUsIDE1LCAxNVxuICAgIF0pO1xuICB9KTtcblxuICBpdCgnUmFnZ2VkVGVuc29yVG9UZW5zb3I0RFBhcmFtc1Jvd1NwbGl0JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHNoYXBlID0gWzQsIDIsIDMsIDJdO1xuICAgIGNvbnN0IHZhbHVlcyA9IFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4XTtcbiAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSAxNTtcbiAgICBjb25zdCByb3dQYXJ0aXRpb25UZW5zb3JzID0gW1xuICAgICAgdGYudGVuc29yMWQoWzAsIDEsIDNdLCAnaW50MzInKSwgdGYudGVuc29yMWQoWzAsIDAsIDMsIDRdLCAnaW50MzInKSxcbiAgICAgIHRmLnRlbnNvcjFkKFswLCAyLCA0LCA2LCA4XSwgJ2ludDMyJylcbiAgICBdO1xuICAgIGNvbnN0IHJvd1BhcnRpdGlvblR5cGVzID0gWydST1dfU1BMSVRTJywgJ1JPV19TUExJVFMnLCAnUk9XX1NQTElUUyddO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRmLnJhZ2dlZFRlbnNvclRvVGVuc29yKFxuICAgICAgICBzaGFwZSwgdmFsdWVzLCBkZWZhdWx0VmFsdWUsIHJvd1BhcnRpdGlvblRlbnNvcnMsIHJvd1BhcnRpdGlvblR5cGVzKTtcblxuICAgIGV4cGVjdEFycmF5c0VxdWFsKHJlc3VsdC5zaGFwZSwgc2hhcGUpO1xuICAgIGV4cGVjdEFycmF5c0Nsb3NlKGF3YWl0IHJlc3VsdC5kYXRhKCksIFtcbiAgICAgIDE1LCAxNSwgMTUsIDE1LCAxNSwgMTUsIDE1LCAxNSwgMTUsIDE1LCAxNSwgMTUsIDEsICAyLCAgMywgIDQsXG4gICAgICA1LCAgNiwgIDcsICA4LCAgMTUsIDE1LCAxNSwgMTUsIDE1LCAxNSwgMTUsIDE1LCAxNSwgMTUsIDE1LCAxNSxcbiAgICAgIDE1LCAxNSwgMTUsIDE1LCAxNSwgMTUsIDE1LCAxNSwgMTUsIDE1LCAxNSwgMTUsIDE1LCAxNSwgMTUsIDE1XG4gICAgXSk7XG4gIH0pO1xuXG4gIGl0KCdSYWdnZWRUZW5zb3JUb1RlbnNvckNvbnRyYWN0RXhwYW5kZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgc2hhcGUgPSBbMywgNV07XG4gICAgY29uc3QgdmFsdWVzID0gWy4xLCAuMiwgLjMsIC40LCAuNSwgLjYsIC43LCAuOCwgLjldO1xuICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IDEuNTtcbiAgICBjb25zdCByb3dQYXJ0aXRpb25UZW5zb3JzID0gW1xuICAgICAgdGYuc2NhbGFyKDQsICdpbnQzMicpLFxuICAgICAgdGYudGVuc29yMWQoWzAsIDAsIDAsIDIsIDIsIDIsIDIsIDMsIDNdLCAnaW50MzInKSxcbiAgICBdO1xuICAgIGNvbnN0IHJvd1BhcnRpdGlvblR5cGVzID0gWydGSVJTVF9ESU1fU0laRScsICdWQUxVRV9ST1dJRFMnXTtcbiAgICBjb25zdCByZXN1bHQgPSB0Zi5yYWdnZWRUZW5zb3JUb1RlbnNvcihcbiAgICAgICAgc2hhcGUsIHZhbHVlcywgZGVmYXVsdFZhbHVlLCByb3dQYXJ0aXRpb25UZW5zb3JzLCByb3dQYXJ0aXRpb25UeXBlcyk7XG5cbiAgICBleHBlY3RBcnJheXNFcXVhbChyZXN1bHQuc2hhcGUsIHNoYXBlKTtcbiAgICBleHBlY3RBcnJheXNDbG9zZShhd2FpdCByZXN1bHQuZGF0YSgpLCBbXG4gICAgICAuMSwgLjIsIC4zLCAxLjUsIDEuNSwgICAgIC8vXG4gICAgICAxLjUsIDEuNSwgMS41LCAxLjUsIDEuNSwgIC8vXG4gICAgICAuNCwgLjUsIC42LCAuNywgMS41XG4gICAgXSk7XG4gIH0pO1xuXG4gIGl0KCdSYWdnZWRUZW5zb3JUb1RlbnNvckNvbnRyYWN0RXhwYW5kZWREZW5zZScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBzaGFwZSA9IFszLCA1LCAyXTtcbiAgICBjb25zdCB2YWx1ZXMgPSB0Zi50ZW5zb3IyZChcbiAgICAgICAgW1xuICAgICAgICAgIC4xLCAxLjEsIC4yLCAxLjIsIC4zLCAxLjMsIC40LCAxLjQsIC41LCAxLjUsIC42LCAxLjYsIC43LCAxLjcsIC44LFxuICAgICAgICAgIDEuOCwgLjksIDEuOVxuICAgICAgICBdLFxuICAgICAgICBbOSwgMl0pO1xuICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IDEuNTtcbiAgICBjb25zdCByb3dQYXJ0aXRpb25UZW5zb3JzID0gW1xuICAgICAgdGYuc2NhbGFyKDQsICdpbnQzMicpLFxuICAgICAgdGYudGVuc29yMWQoWzAsIDAsIDAsIDIsIDIsIDIsIDIsIDMsIDNdLCAnaW50MzInKSxcbiAgICBdO1xuICAgIGNvbnN0IHJvd1BhcnRpdGlvblR5cGVzID0gWydGSVJTVF9ESU1fU0laRScsICdWQUxVRV9ST1dJRFMnXTtcbiAgICBjb25zdCByZXN1bHQgPSB0Zi5yYWdnZWRUZW5zb3JUb1RlbnNvcihcbiAgICAgICAgc2hhcGUsIHZhbHVlcywgZGVmYXVsdFZhbHVlLCByb3dQYXJ0aXRpb25UZW5zb3JzLCByb3dQYXJ0aXRpb25UeXBlcyk7XG5cbiAgICBleHBlY3RBcnJheXNFcXVhbChyZXN1bHQuc2hhcGUsIHNoYXBlKTtcbiAgICBleHBlY3RBcnJheXNDbG9zZShhd2FpdCByZXN1bHQuZGF0YSgpLCBbXG4gICAgICAuMSwgIDEuMSwgLjIsICAxLjIsIC4zLCAgMS4zLCAxLjUsIDEuNSwgMS41LCAxLjUsICAvL1xuICAgICAgMS41LCAxLjUsIDEuNSwgMS41LCAxLjUsIDEuNSwgMS41LCAxLjUsIDEuNSwgMS41LCAgLy9cbiAgICAgIC40LCAgMS40LCAuNSwgIDEuNSwgLjYsICAxLjYsIC43LCAgMS43LCAxLjUsIDEuNVxuICAgIF0pO1xuICB9KTtcblxuICBpdCgnUmFnZ2VkVGVuc29yVG9UZW5zb3JDb25zdHJhaW5lZCcsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBzaGFwZSA9IFszLCAzXTtcbiAgICBjb25zdCB2YWx1ZXMgPSBbLjEsIC4yLCAuMywgLjQsIC41LCAuNiwgLjcsIC44LCAuOV07XG4gICAgY29uc3QgZGVmYXVsdFZhbHVlID0gMS41O1xuICAgIGNvbnN0IHJvd1BhcnRpdGlvblRlbnNvcnMgPSBbXG4gICAgICB0Zi5zY2FsYXIoNCwgJ2ludDMyJyksXG4gICAgICB0Zi50ZW5zb3IxZChbMCwgMCwgMCwgMiwgMiwgMiwgMiwgMywgM10sICdpbnQzMicpLFxuICAgIF07XG4gICAgY29uc3Qgcm93UGFydGl0aW9uVHlwZXMgPSBbJ0ZJUlNUX0RJTV9TSVpFJywgJ1ZBTFVFX1JPV0lEUyddO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRmLnJhZ2dlZFRlbnNvclRvVGVuc29yKFxuICAgICAgICBzaGFwZSwgdmFsdWVzLCBkZWZhdWx0VmFsdWUsIHJvd1BhcnRpdGlvblRlbnNvcnMsIHJvd1BhcnRpdGlvblR5cGVzKTtcblxuICAgIGV4cGVjdEFycmF5c0VxdWFsKHJlc3VsdC5zaGFwZSwgc2hhcGUpO1xuICAgIGV4cGVjdEFycmF5c0Nsb3NlKGF3YWl0IHJlc3VsdC5kYXRhKCksIFtcbiAgICAgIC4xLCAuMiwgLjMsICAgICAvL1xuICAgICAgMS41LCAxLjUsIDEuNSwgIC8vXG4gICAgICAuNCwgLjUsIC42XG4gICAgXSk7XG4gIH0pO1xuXG4gIGl0KCdSYWdnZWRUZW5zb3JUb1RlbnNvcjNEUGFyYW1zQ29uc3RyYWluZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgc2hhcGUgPSBbNCwgMSwgMl07XG4gICAgY29uc3QgdmFsdWVzID0gWy4xLCAuMiwgLjMsIC40LCAuNSwgLjYsIC43LCAuOCwgLjldO1xuICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IDEuNTtcbiAgICBjb25zdCByb3dQYXJ0aXRpb25UZW5zb3JzID0gW1xuICAgICAgdGYuc2NhbGFyKDUsICdpbnQzMicpLFxuICAgICAgdGYudGVuc29yMWQoWzAsIDEsIDEsIDMsIDMsIDRdLCAnaW50MzInKSxcbiAgICAgIHRmLnRlbnNvcjFkKFsxLCAxLCAyLCAzLCAzLCA0LCA0LCA0LCA1XSwgJ2ludDMyJyksXG4gICAgXTtcbiAgICBjb25zdCByb3dQYXJ0aXRpb25UeXBlcyA9XG4gICAgICAgIFsnRklSU1RfRElNX1NJWkUnLCAnVkFMVUVfUk9XSURTJywgJ1ZBTFVFX1JPV0lEUyddO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRmLnJhZ2dlZFRlbnNvclRvVGVuc29yKFxuICAgICAgICBzaGFwZSwgdmFsdWVzLCBkZWZhdWx0VmFsdWUsIHJvd1BhcnRpdGlvblRlbnNvcnMsIHJvd1BhcnRpdGlvblR5cGVzKTtcblxuICAgIGV4cGVjdEFycmF5c0VxdWFsKHJlc3VsdC5zaGFwZSwgc2hhcGUpO1xuICAgIGV4cGVjdEFycmF5c0Nsb3NlKFxuICAgICAgICBhd2FpdCByZXN1bHQuZGF0YSgpLCBbMS41LCAxLjUsIC4xLCAuMiwgMS41LCAxLjUsIC40LCAuNV0pO1xuICB9KTtcblxuICBpdCgnUmFnZ2VkVGVuc29yVG9UZW5zb3I0RFBhcmFtc0NvbnN0cmFpbmVkJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHNoYXBlID0gWzIsIDIsIDIsIDJdO1xuICAgIGNvbnN0IHZhbHVlcyA9IFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4XTtcbiAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSAxNTtcbiAgICBjb25zdCByb3dQYXJ0aXRpb25UZW5zb3JzID0gW1xuICAgICAgdGYuc2NhbGFyKDUsICdpbnQzMicpLFxuICAgICAgdGYudGVuc29yMWQoWzAsIDEsIDFdLCAnaW50MzInKSxcbiAgICAgIHRmLnRlbnNvcjFkKFsxLCAxLCAxLCAyXSwgJ2ludDMyJyksXG4gICAgICB0Zi50ZW5zb3IxZChbMCwgMCwgMSwgMSwgMiwgMiwgMywgM10sICdpbnQzMicpLFxuICAgIF07XG4gICAgY29uc3Qgcm93UGFydGl0aW9uVHlwZXMgPVxuICAgICAgICBbJ0ZJUlNUX0RJTV9TSVpFJywgJ1ZBTFVFX1JPV0lEUycsICdWQUxVRV9ST1dJRFMnLCAnVkFMVUVfUk9XSURTJ107XG4gICAgY29uc3QgcmVzdWx0ID0gdGYucmFnZ2VkVGVuc29yVG9UZW5zb3IoXG4gICAgICAgIHNoYXBlLCB2YWx1ZXMsIGRlZmF1bHRWYWx1ZSwgcm93UGFydGl0aW9uVGVuc29ycywgcm93UGFydGl0aW9uVHlwZXMpO1xuXG4gICAgZXhwZWN0QXJyYXlzRXF1YWwocmVzdWx0LnNoYXBlLCBzaGFwZSk7XG4gICAgZXhwZWN0QXJyYXlzQ2xvc2UoYXdhaXQgcmVzdWx0LmRhdGEoKSwgW1xuICAgICAgMTUsIDE1LCAxNSwgMTUsICAvL1xuICAgICAgMTUsIDE1LCAxNSwgMTUsICAvL1xuICAgICAgMSwgMiwgMywgNCwgICAgICAvL1xuICAgICAgNywgOCwgMTUsIDE1LCAgICAvL1xuICAgIF0pO1xuICB9KTtcblxuICBpdCgnc2hhcGUgd3JvbmcgZGltZW5zaW9ucycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBzaGFwZSA9IFsxMCwgNywgMTAsIDIwXTtcbiAgICBjb25zdCB2YWx1ZXMgPSBbMSwgMiwgMywgNF07XG4gICAgY29uc3QgZGVmYXVsdFZhbHVlID0gMTU7XG4gICAgY29uc3Qgcm93UGFydGl0aW9uVGVuc29ycyA9IFtcbiAgICAgIHRmLnNjYWxhcig1LCAnaW50MzInKSxcbiAgICAgIHRmLnRlbnNvcjFkKFswLCAxLCAxXSwgJ2ludDMyJyksXG4gICAgICB0Zi50ZW5zb3IxZChbMSwgMSwgMSwgMl0sICdpbnQzMicpLFxuICAgIF07XG4gICAgY29uc3Qgcm93UGFydGl0aW9uVHlwZXMgPVxuICAgICAgICBbJ0ZJUlNUX0RJTV9TSVpFJywgJ1ZBTFVFX1JPV0lEUycsICdWQUxVRV9ST1dJRFMnXTtcblxuICAgIGV4cGVjdChcbiAgICAgICAgKCkgPT4gdGYucmFnZ2VkVGVuc29yVG9UZW5zb3IoXG4gICAgICAgICAgICBzaGFwZSwgdmFsdWVzLCBkZWZhdWx0VmFsdWUsIHJvd1BhcnRpdGlvblRlbnNvcnMsXG4gICAgICAgICAgICByb3dQYXJ0aXRpb25UeXBlcykpXG4gICAgICAgIC50b1Rocm93RXJyb3IoL2FyZSBpbmNvbXBhdGlibGUvKTtcbiAgfSk7XG5cbiAgaXQoJ2RvZXMgbm90IGhhdmUgbWVtb3J5IGxlYWsuJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGJlZm9yZURhdGFJZHMgPSB0Zi5lbmdpbmUoKS5iYWNrZW5kLm51bURhdGFJZHMoKTtcblxuICAgIGNvbnN0IHJvd1BhcnRpdGlvblRlbnNvcnMgPSBbXG4gICAgICB0Zi5zY2FsYXIoNCwgJ2ludDMyJyksIHRmLnRlbnNvcjFkKFswLCAwLCAwLCAyLCAyLCAyLCAyLCAzLCAzXSwgJ2ludDMyJylcbiAgICBdO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRmLnJhZ2dlZFRlbnNvclRvVGVuc29yKFxuICAgICAgICBbNCwgNF0sIFsuMSwgLjIsIC4zLCAuNCwgLjUsIC42LCAuNywgLjgsIC45XSwgMS41LCByb3dQYXJ0aXRpb25UZW5zb3JzLFxuICAgICAgICBbJ0ZJUlNUX0RJTV9TSVpFJywgJ1ZBTFVFX1JPV0lEUyddKTtcblxuICAgIGF3YWl0IHJlc3VsdC5kYXRhKCk7XG5cbiAgICBjb25zdCBhZnRlclJlc0RhdGFJZHMgPSB0Zi5lbmdpbmUoKS5iYWNrZW5kLm51bURhdGFJZHMoKTtcbiAgICBleHBlY3QoYWZ0ZXJSZXNEYXRhSWRzKS50b0VxdWFsKGJlZm9yZURhdGFJZHMgKyAzKTtcblxuICAgIHJlc3VsdC5kaXNwb3NlKCk7XG4gICAgcm93UGFydGl0aW9uVGVuc29ycy5tYXAodGVuc29yID0+IHRlbnNvci5kaXNwb3NlKCkpO1xuXG4gICAgY29uc3QgYWZ0ZXJEaXNwb3NlRGF0YUlkcyA9IHRmLmVuZ2luZSgpLmJhY2tlbmQubnVtRGF0YUlkcygpO1xuICAgIGV4cGVjdChhZnRlckRpc3Bvc2VEYXRhSWRzKS50b0VxdWFsKGJlZm9yZURhdGFJZHMpO1xuICB9KTtcbn0pO1xuIl19